java内存模型可以大致理解分为两个模块，主内存和私有内存。主内存中主要是存放一些共享的全局变量，私有内存主要是存放线程所需的私有变量。一般情况下，如果某个线程需要使用主内存的全局变量。首先，它会拷贝一份主内存里面的全局变量到私有内存，进行操作，操作完成以后再把这个变量同步到主内存。如下图：

![blockchain](https://s1.51cto.com/images/blog/201903/21/284fb86dc50f887449ae41f92e8b39c6.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk= "java内存模型")

volatile关键字有如下含义：

1）保证了不同线程对这个变量进行操作时的可见性，即一个线程修改了某个变量的值，这新值对其他线程来说是立即可见的。

2）禁止进行指令重排序。

也就是说在并发编程中，volatile关键字可以在一定程度上保证可见性和有序性。但是它无法保证并发编程下的一致性。要保证多线程下面的一致性，就必须加锁。